#library(devtools)
library(dplyr)
#library(givedata)
data("DepensesInvestiss_00_17", package="givedata")
#library(devtools)
library(dplyr)
#library(givedata)
data("DepensesInvestiss_00_17")
ls()
DepensesInvestiss_00_17 %>% head()
data("Loyermoyen100m2_06_19", package="givedata")
library(dplyr)
data("DepensesInvestiss_00_17")
ls()
DepensesInvestiss_00_17 %>% head()
data("Loyermoyen100m2_06_19")
ls()
Loyermoyen100m2_06_19 %>% head()
data("NEcolePrimaire")
ls()
NEcolePrimaire %>% head()
data("NHabitants_00_19")
ls()
NHabitants_00_19 %>% head()
data("NInfractions_08_19")
ls()
NInfractions_08_19 %>% head()
data("NMedecins")
ls()
NMedecins %>% head()
data("NParcs")
ls()
NParcs %>% head()
data("NSupermarches")
ls()
NSupermarches %>% head()
data("PMedianeAppart100m2_00_17")
ls()
PMedianeAppart100m2_00_17 %>% head()
data("PMedianeVilla_00_17")
ls()
PMedianeVilla_00_17 %>% head()
data("Superficie")
ls()
Superficie %>% head()
###2.0)DIVERS---------------------------------------
#Vector of Commune names
x <- c("NA","Aire-la-Ville","Anieres", "Avully", "Avusy",
" Bardonnex","Bellevue","Bernex","Carouge", "Cartigny",
"Celigny", "Chancy",  "Chene-Bougeries", "Chene-Bourg",
"Choulex","Collex-Bossy","Collonge-Bellerive","Cologny",
"Confignon","Corsier","Dardagny","Geneve","Genthod",
"Grand-Saconnex","Gy","Hermance","Jussy","Laconnex",
"Lancy","Meinier", "Meyrin", "Onex","Perly-Certoux",
"Plan-les-Ouates", "Pregny-Chambesy", "Presinge", "Puplinge",
"Russin","Satigny","Soral","Thonex","Troinex","Vandoeuvres",
"Vernier","Versoix","Veyrier")
Commune <- matrix(x)
rm(x)
###3.0)CLEANDATA&RATIOS---------------------------------------
#3.1)Ratio Depenses d'Investissement de la Commune par habitant
matrixDepensesInvestiss_00_17 <- data.matrix(DepensesInvestiss_00_17)
matrixNHabitants_00_19 <- data.matrix(NHabitants_00_19)
matrixNHabitants_00_19prov <- matrixNHabitants_00_19[,-(21:22)]
matrixratioDIprov <- sweep(matrixDepensesInvestiss_00_17, 1, matrixNHabitants_00_19prov, "/")
matrixratioDI <- matrixratioDIprov * 1000
ratioDIprov <- as.data.frame(matrixratioDI)
ratioDIprov[1] <- NULL
ratioDIprov2 <- head(cbind(Commune, ratioDIprov), 46)
ratioDI <- ratioDIprov2[,-1]
rownames(ratioDI) <- ratioDIprov2[,1]
rm(matrixNHabitants_00_19prov,
matrixDepensesInvestiss_00_17, matrixNHabitants_00_19,
matrixratioDIprov, matrixratioDI, ratioDIprov, ratioDIprov2)
#3.2) Loyermoyen100m2 - Pas de ratio, seulement clean
Loyermoyen100m2_06_19[1] <- NULL
Loyermoyen100m2_06_19prov <- head(cbind(Commune, Loyermoyen100m2_06_19), 46)
Loyermoyen100m2_06_19_OK <- Loyermoyen100m2_06_19prov[,-1]
rownames(Loyermoyen100m2_06_19_OK) <- Loyermoyen100m2_06_19prov[,1]
rm(Loyermoyen100m2_06_19, Loyermoyen100m2_06_19prov)
#3.3) Ratio Ecole primaire (nombre d'ecoles primaires moyen par km2)
matrixNEcolePrimaire <- data.matrix(NEcolePrimaire)
matrixSuperficie <- data.matrix(Superficie)
matrixratio_ecoleprov <- sweep(matrixNEcolePrimaire, 1, matrixSuperficie, "/")
ratio_ecoleprov <- as.data.frame(matrixratio_ecoleprov)
ratio_ecoleprov[1] <- NULL
ratio_ecoleprov2 <- head(cbind(Commune, ratio_ecoleprov), 46)
ratio_ecole <- ratio_ecoleprov2[,-1]
rownames(ratio_ecole) <- ratio_ecoleprov2[,1]
rm(matrixNEcolePrimaire, matrixSuperficie, matrixratio_ecoleprov, ratio_ecoleprov,ratio_ecoleprov2)
#3.4) NHabitants - Pas de ratio seulement clean
NHabitants_00_19[1] <- NULL
NHabitantsprov <- head(cbind(Commune, NHabitants_00_19), 46)
NHabitants_OK <- NHabitantsprov[,-1]
rownames(NHabitants_OK) <- NHabitantsprov[,1]
rm(NHabitants_00_19, NHabitantsprov)
#3.5) Ratio Infraction pour 1000 habitants
matrixNInfractions_08_19 <- data.matrix(NInfractions_08_19)
matrixNHabitants_00_19 <- data.matrix(NHabitants_00_19)
